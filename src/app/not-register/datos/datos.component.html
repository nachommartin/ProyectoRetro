<div class="container p-4 bg-white" *ngIf="carga">
    <p-panel header="MegaDriver"  [toggleable]="true" [collapsed]="true" styleClass="customTitleBar">
        <ng-template pTemplate="icons">
            <button pButton class="p-panel-header-icon p-link" icon="pi pi-cog" (click)="menu.toggle($event)">
            </button>
            <p-menu #menu id="config_menu" [model]="items" [popup]="true"></p-menu>
        </ng-template>
        <p>MegaDriver es la base de datos de juegos de Mega Drive lanzados en Europa más importante y completa en español de Internet, 
            pretende ser referencia en consulta de puntuaciones medias y críticas de usuarios de cada una de los míticos juegos de la 16 bits de SEGA. 
            Además es también una web independiente de votación y recomendación de juego de forma personalizada. También es una red social donde puedes consultar 
            lo que opinan tus amigos de cualquier juego. MegaDriver es, para muchos, un "diario" de su pasión por la Mega Drive: aquí te "guardamos y ordenamos" tus 
            gustos y lo que has jugado (o quieres jugar) a través de votaciones, reseñas y listas. Además, como la parte lúdica es importante, cuenta con un juego de
            preguntas tipo quiz para poner a prueba tus conocimientos. Te invitamos a unirte a la comunidad seguera de MegaDriver.
        </p>
    </p-panel>
    <div class="card">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
            <p-table #dt [value]="datosJuegos" responsiveLayout="stack" breakpoint="815px" [paginator]="true" [rows]="10" [showCurrentPageReport]="false" 
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[5,10,20]" [globalFilterFields]="['titulo']">        

            <ng-template pTemplate="caption">
                <div style="text-align: right">
                    <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
                    <input pInputText type="text" (input)="applyFilterGlobal($event, 'contains', dt)" placeholder="Buscar" size="30" style="width:auto" />
                </div>
              </ng-template>
              <ng-template pTemplate="header" let-columns>
                  <tr>
                      <th></th>
                      <th pSortableColumn="titulo">Título <p-sortIcon field="titulo"></p-sortIcon></th>
                      <th pSortableColumn="categoria">Categoría <p-sortIcon field="categoria"></p-sortIcon></th>
                      <th pSortableColumn="year">Año <p-sortIcon field="year"></p-sortIcon></th>
                      <th pSortableColumn="desarrollador">Desarrollador <p-sortIcon field="desarrollador"></p-sortIcon></th>
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-juego let-columns="juego">
                  <tr>
                    <td *ngIf="juego.imagen"> <img class="card-img-top center-block d-block mx-auto" src={{obtenerImagen(juego)}}  alt="Caratula del juego"   width="50" class="shadow-4" /></td>
                    <td *ngIf="!juego.imagen"><span>Sin imagen aún</span></td>
                      <td><span class="p-column-title" pSortableColumn="titulo"><strong>Título</strong></span>{{juego.titulo}}</td>
                      <td><span class="p-column-title" pSortableColumn="categoria"><strong>Categoría</strong></span>{{juego.categoria}}</td>
                      <td><span class="p-column-title" pSortableColumn="year"><strong>Año</strong></span>{{juego.year}}</td>
                      <td><span class="p-column-title" pSortableColumn="desarrollador"><strong>Desarrollador</strong></span>{{juego.desarrollador}}</td>
                    </tr>
    
             
    
              </ng-template>
              <ng-template pTemplate="summary">
                <div class="flex align-items-center justify-content-between">
                    En total hay {{datosJuegos ? datosJuegos.length : 0 }} juegos.
                </div>
            </ng-template>
              
            </p-table>
    
          </div>
    
        
    </div>
</div>
<app-footer></app-footer>
